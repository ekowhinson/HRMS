# ==============================================================================
# HRMS Environment Variables
# Copy this file to .env and update values for your environment.
#   cp .env.example .env
# ==============================================================================

# ─── Django Core ──────────────────────────────────────────────────────────────
# SECURITY WARNING: generate a unique key for production
# python -c "from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())"
SECRET_KEY=django-insecure-change-me-in-production

# Set to False in production
DEBUG=True

# Comma-separated list of allowed hostnames
ALLOWED_HOSTS=localhost,127.0.0.1

# Obscured admin URL path (change in production)
ADMIN_URL_PATH=nhia-sys-admin/

# Logging level: DEBUG, INFO, WARNING, ERROR, CRITICAL
DJANGO_LOG_LEVEL=INFO

# ─── Database (PostgreSQL) ────────────────────────────────────────────────────
# Set to true to use PostgreSQL instead of SQLite
USE_POSTGRES=true

DB_NAME=nhia_hrms
DB_USER=postgres
DB_PASSWORD=postgres
DB_HOST=db
DB_PORT=5432

# ─── Redis ────────────────────────────────────────────────────────────────────
# Set to true to enable Redis caching (required for production)
USE_REDIS=true

# Cache storage (DB 1, separate from Celery)
REDIS_CACHE_URL=redis://redis:6379/1

# ─── Celery (Background Tasks) ───────────────────────────────────────────────
# Broker and result backend (Redis DB 0)
CELERY_BROKER_URL=redis://redis:6379/0
CELERY_RESULT_BACKEND=redis://redis:6379/0

# ─── JWT Authentication ──────────────────────────────────────────────────────
# Access token lifetime in minutes
ACCESS_TOKEN_LIFETIME_MINUTES=30

# Refresh token lifetime in days
REFRESH_TOKEN_LIFETIME_DAYS=1

# ─── CORS ─────────────────────────────────────────────────────────────────────
# Comma-separated list of allowed frontend origins
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:5173

# ─── Email ────────────────────────────────────────────────────────────────────
# Use console backend for development, smtp for production
# Options: django.core.mail.backends.console.EmailBackend
#          django.core.mail.backends.smtp.EmailBackend
EMAIL_BACKEND=django.core.mail.backends.console.EmailBackend

EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USE_TLS=True
EMAIL_USE_SSL=False
EMAIL_HOST_USER=
EMAIL_HOST_PASSWORD=
DEFAULT_FROM_EMAIL=noreply@nhia.gov.gh

# ─── File Storage ─────────────────────────────────────────────────────────────
# Paths for collected static files and user uploads
# Leave empty to use defaults (BASE_DIR/staticfiles, BASE_DIR/media)
STATIC_ROOT=
MEDIA_ROOT=

# ─── Frontend ─────────────────────────────────────────────────────────────────
# URL used in email links pointing back to the frontend
FRONTEND_URL=http://localhost:3000

# API URL injected into the React build (Vite VITE_ prefix)
VITE_API_URL=/api/v1

# ─── AI / LLM ────────────────────────────────────────────────────────────────
# Anthropic API key for AI-powered features (import analysis, etc.)
ANTHROPIC_API_KEY=

# ─── Container / Deployment ──────────────────────────────────────────────────
# Set to true in entrypoint.sh to run migrations on container start
RUN_MIGRATIONS=false

# Gunicorn listen port (used by entrypoint.sh)
PORT=8080
